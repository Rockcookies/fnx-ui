import{r as s,j as e,c as R,a as V}from"./index-8b435b75.js";import{D as C}from"./index-588a6987.js";import{u as oe}from"./use-demo-translate-489d42ac.js";import{c as z}from"./config-component-props-c0788442.js";import{u as ne}from"./use-controlled-state-e2423fe7.js";import{t as ae,R as re}from"./react-a0edb2dd.js";import{n as ie}from"./misc-276e45ca.js";import{C as le}from"./index-fdc7973b.js";import{C as ce}from"./index-fdd3a7d6.js";import{u as T}from"./use-merged-prop-78f8d6c6.js";import{a as de,I as U}from"./index-f0ac2a00.js";import"./use-merged-prop-ref-bd8415d7.js";import"./use-update-effect-311108d7.js";import"./detect-9e279ab2.js";import"./constants-a731eda5.js";import"./use-theme-8dbf9539.js";import"./format-3509efe4.js";const pe=s.createContext({activeKey:[],onChange:ie,ghost:!1}),q=pe,ue="fnx-collapse",me=V(ue),fe=z({defaultActiveKey:[],accordion:!1,ghost:!1}),B=t=>{const a=[];for(const i of Array.isArray(t)?t:[t])a.push(i);return a},F=s.forwardRef((t,a)=>{const[{defaultActiveKey:i,accordion:m,ghost:f},{activeKey:h,onChange:I,className:P,children:$,...N}]=fe(t),j=s.useMemo(()=>h==null?void 0:B(h),[h]),d=s.useMemo(()=>B(i!=null?i:[]),[i]),{value:g,onChangeRef:v}=ne({value:j,defaultValue:d,onChange:I}),k=s.useCallback(r=>v.current(r),[v]);return e.jsx(q.Provider,{value:{activeKey:g,onChange:k,accordion:m,ghost:f},children:e.jsx("div",{className:R(me(),P),...N,ref:a,children:ae($).map((r,b)=>{if(s.isValidElement(r)){const x=r.key!=null?"".concat(r.key):"".concat(b);return s.cloneElement(r,{...r.props,key:x,"data-fnx-collapse-item-key":x})}})})})});F.displayName="Collapse";const he=F,ge="fnx-collapse-item",y=V(ge),xe=z({titleProps:{},headerProps:{},disabled:!1}),G=s.forwardRef((t,a)=>{const[{titleProps:i,headerProps:m,disabled:f},{ghost:h,transitionDuration:I,title:P,className:$,children:N,...j}]=xe(t),{activeKey:d,onChange:g,accordion:v,...k}=s.useContext(q),r=s.useContext(ce.Context),b=T(k.ghost,h),x=T(r.transitionDuration,I),S=s.useRef(null),K=j["data-fnx-collapse-item-key"],l=s.useMemo(()=>K!=null?K:null,[K]),c=s.useMemo(()=>l!=null&&d.includes(l),[l,d]),A=s.useRef(null),[_,p]=s.useState(),[W,u]=s.useState(c),[J,E]=s.useState(!1),[D,w]=s.useState(c),L=()=>{!f&&l!=null&&g(v?c?[]:[l]:c?d.filter(o=>o!==l):[...d,l])},M=s.useCallback(()=>{const o=A.current;return o&&o.offsetHeight||0},[]);s.useEffect(()=>{c?(w(!0),E(!1)):E(!0)},[c]);const Q=()=>{const o={};return _!=null&&(o.height="".concat(_,"px")),W?o.transitionDuration="".concat(x,"ms"):o.display="none",o},X=()=>{const{title:o,titleProps:Y,rightIcon:Z,className:ee,onClick:H,...te}=m;return e.jsx(le,{title:P||o,titleProps:{...i,...Y},rightIcon:e.jsx(de,{className:y("arrow"),name:"arrow-right"})||Z,clickable:!f,border:!b,className:R(y("header"),ee),...te,onClick:se=>{L(),H&&H(se)}})};return e.jsxs("div",{className:R(y({ghost:b,disabled:f,expended:c}),$),...j,ref:a,children:[X(),e.jsx(re,{timeout:x,in:D&&!J,nodeRef:S,onEnter:()=>{u(!0),p(0)},onEntering:()=>{u(!0),p(M())},onEntered:()=>{u(!0),p(void 0)},onExit:()=>{u(!0),p(M())},onExiting:()=>{u(!0),p(0)},onExited:()=>{u(!1),p(void 0),E(!1),w(!1)},children:e.jsx("div",{className:y("content-wrapper"),ref:S,style:Q(),children:D&&e.jsx("div",{className:y("content"),ref:A,children:N})})})]})});G.displayName="CollapseItem";const Ce=G,O=he;O.Item=Ce;const n=O,ye={"zh-CN":{paragraph:"一去二三里烟村四五家亭台六七座八九十支花",title:"标题",basicUsage:"基础用法",accordion:"手风琴",disable:"禁用状态",ghost:"幽灵模式",custom:"自定义内容",content:"内容"},"en-US":{paragraph:"The quick brown fox jumps over the lazy dog",title:"Title",basicUsage:"Basic Usage",accordion:"Accordion",disable:"Disabled",ghost:"Ghost Mode",custom:"Custom Content",content:"content"}};function He(){const[t]=oe(ye,"en-US"),a=new Array(3).fill(0).map((i,m)=>e.jsx(n.Item,{title:"".concat(t.title," 1"),children:t.paragraph},m));return e.jsxs(e.Fragment,{children:[e.jsx(C,{title:t.basicUsage,children:e.jsx(n,{defaultActiveKey:"0",children:a})}),e.jsx(C,{title:t.accordion,children:e.jsx(n,{accordion:!0,defaultActiveKey:"0",children:a})}),e.jsx(C,{title:t.ghost,children:e.jsx(n,{ghost:!0,defaultActiveKey:"0",children:a})}),e.jsx(C,{title:t.disable,children:e.jsxs(n,{children:[e.jsx(n.Item,{title:"".concat(t.title," 1"),children:t.paragraph}),e.jsx(n.Item,{disabled:!0,title:"".concat(t.title," 2"),children:t.paragraph}),e.jsx(n.Item,{disabled:!0,title:"".concat(t.title," 3"),children:t.paragraph})]})}),e.jsx(C,{title:t.custom,children:e.jsxs(n,{children:[e.jsx(n.Item,{title:"".concat(t.title," 1"),headerProps:{leftIcon:e.jsx(U,{name:"success"})},children:t.paragraph}),e.jsx(n.Item,{title:"".concat(t.title," 2"),headerProps:{leftIcon:e.jsx(U,{name:"success"}),content:t.content},children:t.paragraph})]})})]})}export{He as default};
