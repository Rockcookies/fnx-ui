!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}var n=["labelAlign","helpAlign","colon","required","labelWidth","label","controlPrefix","controlSuffix","className","children"],t=["value","onChange","onFocus","onBlur","maxLength","className","style"],r=["value","onChange","onFocus","onBlur","maxLength","className","style"];function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(n,t,r){return(t=function(n){var t=function(n,t){if("object"!==e(n)||null===n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var o=r.call(n,t||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===e(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,l,a,u=[],i=!0,c=!1;try{if(l=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;i=!1}else for(;!(i=(r=l.call(t)).done)&&(u.push(r.value),u.length!==n);i=!0);}catch(s){c=!0,o=s}finally{try{if(!i&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,n)||s(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}System.register(["./index-legacy-56dc3fc1.js","./index-legacy-7054d98a.js","./config-component-props-legacy-b5279410.js","./use-merged-prop-legacy-58e913d1.js","./format-legacy-4dfc8f09.js","./use-controlled-state-legacy-3a5af549.js","./use-focus-legacy-bbb9366d.js","./index-legacy-06892120.js","./use-creation-legacy-f9f9ce08.js","./misc-legacy-f59b2e17.js"],(function(e,o){"use strict";var s,f,d,m,p,y,b,g,h,v,x,O,j,N,S,w,C;return{setters:[function(e){s=e.r,f=e.b,d=e.c,m=e.j,p=e.a},function(e){y=e.C},function(e){b=e.c},function(e){g=e.u},function(e){h=e.a,v=e.f,x=e.u,O=e.c},function(e){j=e.u},function(e){N=e.u},function(e){S=e.I},function(e){w=e.u},function(e){C=e.i}],execute:function(){var o=e("a",s.createContext({})),A=e("b",s.createContext({})),P=p("fnx-field"),E=b({labelProps:{},controlProps:{},titleProps:{},contentProps:{},disabled:!1,help:[]}),F=s.forwardRef((function(e,t){var r=c(E(e),2),a=r[0],p=a.labelProps,b=a.controlProps,v=a.titleProps,x=a.contentProps,O=a.disabled,j=a.help,N=r[1],S=N.labelAlign,w=N.helpAlign,C=N.colon,F=N.required,I=N.labelWidth,R=N.label,B=N.controlPrefix,T=N.controlSuffix,M=N.className,H=N.children,V=i(N,n),q=s.useContext(o),L=s.useContext(A),D=L.meta,_=L.isRequired,k=g("left",S,q.labelAlign),z=g("left",w,q.helpAlign),W=g(!1,C,q.colon),X=g(!0===q.requiredMark,F),G=g(void 0,I,q.labelWidth),U=D&&D.errors||[];U=Array.isArray(j)?[].concat(u(j),u(U)):[j].concat(u(U));var $={};D&&D.validating?$.validating=!0:U.length>0?$.error=!0:D&&D.touched&&($.success=!0);return f(y,l(l({},V),{},{className:d(P([l(l({},$),{},{required:null!=_?_:X,disabled:O})]),M),ref:t,title:R,titleProps:l(l({},p),{},{className:d(P("label",["text-".concat(k),{colon:W}]),p.className,v.className),style:l(l({},0!==G?{width:h(G)}:{}),v.style)}),contentProps:l(l(l({},b),x),{},{className:d(P("control"),b.className,x.className)}),children:[f("div",{className:P("control-body"),children:[B&&m("div",{className:P("control-prefix"),children:B}),m("div",{className:P("control-item"),children:s.isValidElement(H)?null!=H.props.disabled?H:s.cloneElement(H,l(l({},H.props),{},{disabled:O})):H}),T&&m("div",{className:P("control-suffix"),children:T})]}),U.length>0&&m("div",{className:P("help",["text-".concat(z)]),children:U.map((function(e,n){return m("div",{children:e},n)}))})]}))}));F.displayName="Field";var I=F,R=function(e,n){var t=c(s.useState(null),2),r=t[0],o=t[1],l=s.useRef(!1),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!l.current||t?(null!==r&&o(null),n(e)):o(e)};return{value:r||e,onComposition:function(e){if("compositionend"===e.type&&l.current){var n=e.target.value;a(n,!0),l.current=!1}else l.current=!0},onChange:function(e){return a(e)}}};function B(e,n){var t=u(e);return null!=n&&t.length>=n?t.slice(0,n).join(""):e}var T=p("fnx-field-input"),M=b({defaultValue:"",type:"text",inputAlign:"left",clearable:!1,clearIcon:m(S,{name:"close"}),clearTrigger:"focus",readOnly:!1,disabled:!1}),H=s.forwardRef((function(e,n){var r=s.useRef(null),o=s.useRef(null),u=c(M(e),2),p=u[0],y=p.defaultValue,b=p.type,g=p.inputAlign,h=p.clearable,x=p.clearIcon,O=p.clearTrigger,S=p.readOnly,w=p.disabled,C=u[1],A=C.value,P=C.onChange,E=C.onFocus,F=C.onBlur,I=C.maxLength,H=C.className,V=C.style,q=i(C,t);s.useImperativeHandle(n,(function(){return{element:r.current,input:o.current}}));var L=j({value:A,defaultValue:y,onChange:P}),D=L.value,_=L.onChangeRef,k=L.controlled,z=D;null==I||k||(z=B(D,I));var W=function(e){if(e=B(e,I),"number"===b||"digit"===b){var n="number"===b;e=v(e,{allowDot:n,allowMinus:n})}e!==D&&_.current(e)},X=R(z,W),G=X.value,U=X.onComposition,$=X.onChange,J=N(D,{readonly:S,node:o,onFocus:E,onBlur:F}),K=J.focus,Q=J.onFocus,Y=J.onBlur,Z=s.useMemo((function(){return function(e){return"number"===e?{type:"text",inputMode:"decimal"}:"digit"===e?{type:"tel",inputMode:"numeric"}:{type:e,inputMode:void 0}}(b)}),[b]);return f("span",{ref:r,className:d(T([l({focused:K,disabled:w},"left"!==g?a({},"text-".concat(g),!0):{})]),H),style:V,children:[m("input",l(l(l({},q),{},{className:T("control"),ref:o,value:G},Z),{},{disabled:w,readOnly:S,onBlur:Y,onFocus:Q,onCompositionStart:U,onCompositionEnd:U,onChange:function(e){return $(e.target.value)}})),function(){if(h&&!S&&(""!==D&&("always"===O||"focus"===O&&K)))return m("i",{className:T("clear"),onTouchStart:function(){return W("")},children:x})}()]})}));H.displayName="FieldInput";var V=H,q=p("fnx-field-textarea"),L=b({defaultValue:"",showCount:!1,autoSize:!1,rows:1,readOnly:!1,disabled:!1}),D=s.forwardRef((function(e,n){var t=s.useRef(null),o=s.useRef(null),a=s.useRef(null),p=c(L(e),2),y=p[0],b=y.defaultValue,g=y.showCount,h=y.autoSize,v=y.rows,S=y.readOnly,A=y.disabled,P=p[1],E=P.value,F=P.onChange,I=P.onFocus,T=P.onBlur,M=P.maxLength,H=P.className,V=P.style,D=i(P,r);s.useImperativeHandle(n,(function(){return{element:t.current,input:o.current}}));var _=w((function(e){if(!1!==h){var n=!0===h?[0,Number.MAX_SAFE_INTEGER]:[h.minHeight?x(h.minHeight):0,h.maxHeight?x(h.maxHeight):Number.MAX_SAFE_INTEGER];return e&&C(e,n)?e:n}}),[h]),k=j({value:E,defaultValue:b,onChange:F}),z=k.value,W=k.onChangeRef,X=k.controlled,G=z;null==M||X||(G=B(z,M));var U=R(G,(function(e){(e=B(e,M))!==z&&W.current(e)})),$=U.value,J=U.onComposition,K=U.onChange,Q=N(z,{readonly:S,node:o,onFocus:I,onBlur:T}),Y=Q.focus,Z=Q.onFocus,ee=Q.onBlur;s.useEffect((function(){if(_){var e=o.current,n=a.current;e&&n&&(e.style.height="".concat(O(n.scrollHeight,_[0],_[1]),"px"))}}),[_,$]);var ne;return f("span",{ref:t,className:d(q([{focused:Y,disabled:A}]),H),style:V,children:[m("textarea",l(l({},D),{},{className:q("control"),style:(ne={},_?ne.minHeight="".concat(_[0],"px"):ne.height="auto",ne),rows:v,ref:o,value:$,disabled:A,readOnly:S,onBlur:ee,onFocus:Z,onCompositionStart:J,onCompositionEnd:J,onChange:function(e){return K(e.target.value)}})),m("textarea",{"aria-hidden":"true",tabIndex:-1,ref:a,className:q("auto-size"),value:$,rows:v,readOnly:!0}),function(){if(!1!==g){var e=!0===g?function(e){var n=e.count,t=e.maxLength;return"".concat(n).concat(null!=t?" / ".concat(t):"")}:g;return m("span",{className:q("count"),children:e({count:u($).length,maxLength:M})})}}()]})}));D.displayName="FieldTextArea";var _=D,k=I;k.Input=V,k.TextArea=_;e("F",k)}}}))}();
