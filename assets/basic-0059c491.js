import{r as p,b as U,F as b,j as t,a as C}from"./index-d6e0bb7d.js";import{U as d}from"./index-d9fd5f92.js";import{d as u}from"./demo-dog-01-2d98fb22.js";import{d as c,a as h}from"./demo-dog-03-35ee3292.js";import{D as i}from"./index-c851109a.js";import{u as R}from"./use-demo-translate-8fa6920a.js";import{B as w}from"./index-018453f2.js";import{u as x}from"./use-unmounted-ref-79d9e7d5.js";import{I as N}from"./index-9b422fb8.js";import{T as S}from"./index-255107b8.js";import{s as M}from"./misc-276e45ca.js";import"./config-component-props-c0788442.js";import"./use-controlled-state-fc81a13b.js";import"./use-merged-prop-ref-6fa0e9a5.js";import"./use-merged-prop-78f8d6c6.js";import"./use-update-effect-50e6fc5c.js";import"./index-1b7340c5.js";import"./index-442896ee.js";import"./use-theme-60a47b38.js";import"./detect-9e279ab2.js";import"./index-92fac996.js";import"./format-73c0cb3b.js";import"./constants-905d732f.js";import"./event-471798e4.js";import"./popup-helper-942ee2c7.js";import"./react-af745673.js";import"./index-8da67885.js";import"./use-on-popup-open-948e332e.js";import"./scroll-a0e7f6b9.js";import"./touch-helper-e91fac31.js";import"./index-7675d692.js";import"./CSSTransition-eb31689a.js";const f=C("demo-uploader"),y={"zh-CN":{basicUsage:"基础用法",uploadStatus:"上传状态",uploading:"上传中...",failed:"上传失败",maxCount:"限制上传数量",disabled:"禁用文件上传",upload:"上传文件",customUpload:"自定义上传样式",invalidType:"请上传 jpg 格式图片",imageName:"图片名称",previewCover:"自定义预览样式",beforeRead:"上传前置处理",fileName:"刀.png"},"en-US":{basicUsage:"Basic Usage",uploadStatus:"Upload Status",uploading:"Uploading...",failed:"Failed",maxCount:"Max Count",disabled:"Disabled Uploader",upload:"Upload File",customUpload:"Custom Upload Area",invalidType:"Please upload an image in jpg format",imageName:"Image Name",previewCover:"Preview Cover",beforeRead:"Upload On Read",fileName:"Blade.png"}};function ie(){const[o]=R(y,"en-US"),[r,g]=p.useState(()=>({basicUsage:[{url:u,status:"done"},{thumbnail:!1,url:u,status:"done",name:o.fileName}],uploadStatus:[{status:"uploading",message:o.uploading,content:u},{status:"failed",message:o.failed,content:c}],maxCount:[{url:h,status:"done"}],disabled:[],customUpload:[],invalidType:[],previewCover:[{url:c,status:"done",file:{name:o.imageName}}],beforeRead:[]})),m=(e,a)=>{g(s=>{const l=typeof a=="function"?a(s[e]):a;return{...s,[e]:l}})},n=x(),v=p.useCallback((e,a=1e3)=>{M(a).then(()=>{n.current||e()})},[n]);return U(b,{children:[t(i,{cardMode:!0,title:o.basicUsage,children:t(d,{defaultValue:r.basicUsage})}),t(i,{cardMode:!0,title:o.uploadStatus,children:t(d,{value:r.uploadStatus,onChange:e=>m("uploadStatus",e),onRead:e=>e.map(a=>({...a,status:"uploading",message:o.uploading})),onUpload:e=>v(()=>m("uploadStatus",a=>a.map(s=>e.findIndex(l=>l.uid===s.uid)>=0?{...s,status:"failed",message:o.failed}:s)))})}),t(i,{cardMode:!0,title:o.maxCount,children:t(d,{defaultValue:r.maxCount,maxCount:2,onRead:e=>e.map(a=>({...a,status:"done"}))})}),t(i,{cardMode:!0,title:o.customUpload,children:t(d,{defaultValue:r.customUpload,onRead:e=>e.map(a=>({...a,status:"done"})),children:t(w,{icon:t(N,{name:"plus"}),type:"primary",children:o.upload})})}),t(i,{cardMode:!0,title:o.previewCover,children:t(d,{defaultValue:r.previewCover,onRead:e=>e.map(a=>({...a,status:"done"})),slots:{filePreviewCover:({file:e})=>t("div",{className:f("preview-cover"),children:e&&e.name})}})}),t(i,{cardMode:!0,title:o.beforeRead,children:t(d,{defaultValue:r.beforeRead,onRead:e=>e.findIndex(({file:a})=>a.type!=="image/jpeg")>=0?(S.show(o.invalidType),[]):e.map(a=>({...a,status:"done"})),slots:{filePreviewCover:({file:e})=>t("div",{className:f("preview-cover"),children:e&&e.name})}})}),t(i,{cardMode:!0,title:o.disabled,children:t(d,{defaultValue:r.disabled,onRead:e=>e.map(a=>({...a,status:"done"})),disabled:!0})})]})}export{ie as default};
