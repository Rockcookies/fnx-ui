import{r as m,b as P,c as p,j as t,a as H,F as T}from"./index-acc727ed.js";import{c as V}from"./config-component-props-c0788442.js";import{u as $}from"./use-controlled-state-2016da2e.js";import{u as q}from"./index-de276461.js";import{B as M}from"./constants-905d732f.js";import{c as A}from"./format-73c0cb3b.js";import{n as G}from"./misc-276e45ca.js";import{D as d}from"./index-aac52a1a.js";import{u as J}from"./use-demo-translate-af347a14.js";import{I as R}from"./index-95f1e0da.js";import"./use-merged-prop-ref-b9b1260a.js";import"./use-merged-prop-78f8d6c6.js";import"./use-update-effect-9fcceba0.js";import"./index-f55e3552.js";import"./use-theme-f282d90a.js";import"./detect-9e279ab2.js";const K="fnx-pagination",s=H(K),Q=V({total:82,defaultCurrent:1,pageSize:10,hideOnSinglePage:!1,forceEllipses:!1,onChange:G,mode:"multi",slots:{},pageItemCount:5}),U=m.forwardRef((n,k)=>{const x=q("pagination"),[{total:g,defaultCurrent:w,pageSize:u,hideOnSinglePage:z,forceEllipses:D,onChange:_,mode:N,slots:b,pageItemCount:l},{current:j,className:O,...y}]=Q(n),{value:B,onChangeRef:F}=$({value:j,defaultValue:w,onChange:e=>_(e,u)}),o=m.useMemo(()=>Math.floor((g-1)/u)+1,[g,u]),{current:i,canNext:S,canPrev:v}=m.useMemo(()=>{const e=A(B,1,o);return{current:e,canPrev:e>1,canNext:e<o}},[B,o]),I=m.useRef(null);m.useImperativeHandle(k,()=>I.current);const h=(e,r,a)=>t("li",{className:p([s("item",{active:a}),s("page"),M]),children:t("button",{"aria-current":a||void 0,onClick:()=>{C(e)},children:r})},e),L=()=>{if(N==="simple")return P("li",{className:s("page-dec"),children:[i,"/",o]});const e=[];let r=1,a=o;const E=l<o;E&&(r=Math.max(i-Math.floor(l/2),1),a=r+l-1,a>o&&(a=o,r=a-l+1));for(let c=r;c<=a;c++)e.push(h(c,c,i===c));return E&&l>0&&D&&(r>1&&e.unshift(h(r-1,"...")),a<o&&e.push(h(a+1,"..."))),e},C=e=>{e!==i&&F.current(e)};return P("ul",{className:p([s({simple:N==="simple",hidden:z&&g<=u}),O]),...y,ref:I,children:[t("li",{className:p(s("item",{disabled:!v}),s("prev"),M),children:t("button",{type:"button",disabled:!v,onClick:()=>C(i-1),children:b.prev||x.prev})}),L(),t("li",{className:p(s("item",{disabled:!S}),s("next"),M),onClick:()=>{S&&C(i+1)},children:b.next||x.next})]})});U.displayName="Pagination";const f=U,W={"zh-CN":{basicUsage:"基本用法",simpleMode:"简单模式",ellipses:"状态",customButton:"自定义按钮"},"en-US":{basicUsage:"Basic Usage",simpleMode:"simple Mode",ellipses:"Show Ellipses",customButton:"Custom Button"}};function de(){const[n]=J(W,"en-US");return P(T,{children:[t(d,{cardMode:!0,title:n.basicUsage,children:t(f,{total:80,defaultCurrent:1})}),t(d,{cardMode:!0,title:n.simpleMode,children:t(f,{total:60,mode:"simple"})}),t(d,{cardMode:!0,title:n.ellipses,children:t(f,{total:125,forceEllipses:!0,defaultCurrent:8,pageItemCount:3})}),t(d,{cardMode:!0,title:n.customButton,children:t(f,{total:80,slots:{prev:t(R,{name:"arrow-left"}),next:t(R,{name:"arrow-right"})}})})]})}export{de as default};
