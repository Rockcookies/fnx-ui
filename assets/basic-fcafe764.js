import{r as g,j as t,c as X,a as M}from"./index-8b435b75.js";import{D as O}from"./index-588a6987.js";import{u as Y}from"./use-demo-translate-489d42ac.js";import{B as z}from"./index-6f2e6b84.js";import{g as q,c as B}from"./format-3509efe4.js";import{c as H}from"./config-component-props-c0788442.js";import"./index-fdd3a7d6.js";import"./use-theme-8dbf9539.js";import"./index-f0ac2a00.js";import"./detect-9e279ab2.js";import"./constants-a731eda5.js";import"./event-471798e4.js";import"./misc-276e45ca.js";const J="fnx-circle",b=M(J);let W=0;const K=H({strokeWidth:5,progress:100,speed:1,strokeLinecap:"round",gapDegree:0,clockwise:!0});function U(s){return+s.replace("%","")}function E(s){return Array.isArray(s)?s:[s]}function L(s,e,r,c,i=0,p,m){const o=50-Number(r)/2;let a=0,d=-o,h=0,l=-2*o;switch(p){case"left":a=-o,d=0,h=2*o,l=0;break;case"right":a=o,d=0,h=-2*o,l=0;break;case"bottom":d=o,l=2*o;break}const y=m?1:0,S="M 50,50 m ".concat(a,",").concat(d,"\n   a ").concat(o,",").concat(o," 0 1 ,").concat(y," ").concat(h,",").concat(-l,"\n   a ").concat(o,",").concat(o," 0 1 ,").concat(y," ").concat(-h,",").concat(l),x=Math.PI*2*o,C={stroke:typeof c=="string"?c:void 0,strokeDasharray:"".concat(e/100*(x-i),"px ").concat(x,"px"),strokeDashoffset:"-".concat(i/2+s/100*(x-i),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:S,pathStyle:C}}const Q=(s,e)=>{const r=s.map(()=>g.useRef(null)),c=g.useRef(null);return g.useEffect(()=>{const i=Date.now();let p=!1;Object.keys(r).forEach(m=>{const o=r[m].current;if(!o)return;p=!0;const a=o.style;a.transitionDuration="".concat(e*.3,"s, ").concat(e*.3,"s, ").concat(e*.3,"s, ").concat(e*.06,"s"),c.current&&i-c.current<100&&(a.transitionDuration="0s, 0s")}),p&&(c.current=Date.now())}),[r]},R=g.forwardRef((s,e)=>{const[{strokeWidth:r,progress:c,speed:i,strokeLinecap:p,gapDegree:m,clockwise:o},{size:a,gapPosition:d,strokeColor:h,trailColor:l,className:y,style:S,children:x,...C}]=K(s),w=E(c),[T]=Q(w,i),j=E(h),{pathString:G,pathStyle:A}=L(0,100,r,l,m,d),$=j.find(n=>Object.prototype.toString.call(n)==="[object Object]"),N=g.useMemo(()=>(W+=1,"fnx-circle-linearGradient-".concat(W)),[]),F=()=>{let n=0;return w.map((u,P)=>{const v=j[P]||j[j.length-1],I=Object.prototype.toString.call(v)==="[object Object]"?"url(#".concat(N,")"):"#1989fa",D=L(n,u,r,v,m,d,o);return n+=u,t.jsx("path",{className:b("hover"),d:D.pathString,stroke:I,strokeLinecap:p,strokeWidth:r,opacity:u===0?0:1,fillOpacity:"0",style:D.pathStyle,ref:T[P]},P)})};return t.jsxs("div",{className:X(b(),y),style:{...S,...q(a)},...C,ref:e,children:[t.jsxs("svg",{viewBox:"0 0 100 100",children:[$&&t.jsx("defs",{children:t.jsx("linearGradient",{id:N,x1:"100%",y1:"0%",x2:"0%",y2:"0%",children:Object.keys($).sort((n,u)=>U(n)-U(u)).map((n,u)=>t.jsx("stop",{offset:n,stopOpacity:1,stopColor:$[n]},u))})}),t.jsx("path",{className:b("trail"),d:G,stroke:l,strokeLinecap:p,strokeWidth:r,fillOpacity:"0",style:A}),F().reverse()]}),t.jsx("div",{className:b("text"),children:x})]})});R.displayName="Circle";const f=R;const k=M("demo-circle"),V={"zh-CN":{basicUsage:"基础用法",gradient:"渐变色",gapPosition:"仪表盘",customSize:"大小定制",customStyle:"样式定制",customColor:"颜色定制",customWidth:"宽度定制",counterClockwise:"逆时针",incr:"增加",decr:"减少"},"en-US":{basicUsage:"BasicUsage",gradient:"Gradient",gapPosition:"Dashboard",customSize:"Custom Size",customStyle:"Custom Style",customColor:"Custom Color",customWidth:"Custom Width",counterClockwise:"Counter Clockwise",incr:"Add",decr:"Decrease"}};function dt(){const[s]=Y(V,"en-US"),[e,r]=g.useState(70),c=()=>{r(B(e+15,0,100))},i=()=>{r(B(e-15,0,100))};return t.jsxs(t.Fragment,{children:[t.jsx(O,{title:s.basicUsage,cardMode:!0,children:t.jsx("div",{className:k("block"),children:t.jsxs(f,{progress:e,children:[e,"%"]})})}),t.jsxs(O,{title:s.customStyle,children:[t.jsxs("div",{className:k("block"),children:[t.jsx(f,{progress:e,strokeWidth:2,children:s.customWidth}),t.jsx(f,{progress:e,strokeColor:"var(--fnx-danger-color)",trailColor:"var(--fnx-gray-400)",children:s.customColor}),t.jsx(f,{progress:e,strokeColor:{"0%":"var(--fnx-danger-color)","100%":"var(--fnx-warning-color)"},children:s.gradient}),t.jsx(f,{progress:e,clockwise:!1,children:s.counterClockwise}),t.jsx(f,{progress:e,size:"120px",children:s.customSize})]}),t.jsxs("div",{className:k("buttons"),children:[t.jsx(z,{className:k("button"),type:"primary",onClick:c,children:s.incr}),t.jsx(z,{className:k("button"),type:"danger",onClick:i,children:s.decr})]})]})]})}export{dt as default};
