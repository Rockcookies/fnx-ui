!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}var n=["labelAlign","helpAlign","colon","required","labelWidth","label","controlPrefix","controlSuffix","className","children"],t=["value","onChange","onFocus","onBlur","maxLength","className","style"],r=["value","onChange","onFocus","onBlur","maxLength","className","style"];function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(n,t,r){return(t=function(n){var t=function(n,t){if("object"!==e(n)||null===n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var o=r.call(n,t||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===e(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,l,a,u=[],i=!0,c=!1;try{if(l=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;i=!1}else for(;!(i=(r=l.call(t)).done)&&(u.push(r.value),u.length!==n);i=!0);}catch(e){c=!0,o=e}finally{try{if(!i&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,n)||s(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}System.register(["./index-legacy-1bd67aeb.js","./index-legacy-2e96c741.js","./config-component-props-legacy-b5279410.js","./use-merged-prop-legacy-58e913d1.js","./format-legacy-4dfc8f09.js","./use-controlled-state-legacy-c2785d55.js","./use-focus-legacy-cc35d086.js","./index-legacy-c68971b2.js","./use-creation-legacy-9d7fb02d.js","./misc-legacy-f59b2e17.js"],(function(e,o){"use strict";var s,f,d,m,p,y,b,g,h,v,x,j,O,N,S,w;return{setters:[function(e){s=e.r,f=e.j,d=e.c,m=e.a},function(e){p=e.C},function(e){y=e.c},function(e){b=e.u},function(e){g=e.a,h=e.f,v=e.u,x=e.c},function(e){j=e.u},function(e){O=e.u},function(e){N=e.I},function(e){S=e.u},function(e){w=e.i}],execute:function(){var o=e("a",s.createContext({})),C=e("b",s.createContext({})),A=m("fnx-field"),P=y({labelProps:{},controlProps:{},titleProps:{},contentProps:{},disabled:!1,help:[]}),E=s.forwardRef((function(e,t){var r=c(P(e),2),a=r[0],m=a.labelProps,y=a.controlProps,h=a.titleProps,v=a.contentProps,x=a.disabled,j=a.help,O=r[1],N=O.labelAlign,S=O.helpAlign,w=O.colon,E=O.required,F=O.labelWidth,I=O.label,R=O.controlPrefix,B=O.controlSuffix,T=O.className,M=O.children,H=i(O,n),V=s.useContext(o),q=s.useContext(C),L=q.meta,D=q.isRequired,W=b("left",N,V.labelAlign),_=b("left",S,V.helpAlign),k=b(!1,w,V.colon),z=b(!0===V.requiredMark,E),G=b(void 0,F,V.labelWidth),X=L&&L.errors||[];X=Array.isArray(j)?[].concat(u(j),u(X)):[j].concat(u(X));var U={};L&&L.validating?U.validating=!0:X.length>0?U.error=!0:L&&L.touched&&(U.success=!0);return f.jsxs(p,l(l({},H),{},{className:d(A([l(l({},U),{},{required:null!=D?D:z,disabled:x})]),T),ref:t,title:I,titleProps:l(l({},m),{},{className:d(A("label",["text-".concat(W),{colon:k}]),m.className,h.className),style:l(l({},0!==G?{width:g(G)}:{}),h.style)}),contentProps:l(l(l({},y),v),{},{className:d(A("control"),y.className,v.className)}),children:[f.jsxs("div",{className:A("control-body"),children:[R&&f.jsx("div",{className:A("control-prefix"),children:R}),f.jsx("div",{className:A("control-item"),children:s.isValidElement(M)?null!=M.props.disabled?M:s.cloneElement(M,l(l({},M.props),{},{disabled:x})):M}),B&&f.jsx("div",{className:A("control-suffix"),children:B})]}),X.length>0&&f.jsx("div",{className:A("help",["text-".concat(_)]),children:X.map((function(e,n){return f.jsx("div",{children:e},n)}))})]}))}));E.displayName="Field";var F=E,I=function(e,n){var t=c(s.useState(null),2),r=t[0],o=t[1],l=s.useRef(!1),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!l.current||t?(null!==r&&o(null),n(e)):o(e)};return{value:r||e,onComposition:function(e){if("compositionend"===e.type&&l.current){var n=e.target.value;a(n,!0),l.current=!1}else l.current=!0},onChange:function(e){return a(e)}}};function R(e,n){var t=u(e);return null!=n&&t.length>=n?t.slice(0,n).join(""):e}var B=m("fnx-field-input"),T=y({defaultValue:"",type:"text",inputAlign:"left",clearable:!1,clearIcon:f.jsx(N,{name:"close"}),clearTrigger:"focus",readOnly:!1,disabled:!1}),M=s.forwardRef((function(e,n){var r=s.useRef(null),o=s.useRef(null),u=c(T(e),2),m=u[0],p=m.defaultValue,y=m.type,b=m.inputAlign,g=m.clearable,v=m.clearIcon,x=m.clearTrigger,N=m.readOnly,S=m.disabled,w=u[1],C=w.value,A=w.onChange,P=w.onFocus,E=w.onBlur,F=w.maxLength,M=w.className,H=w.style,V=i(w,t);s.useImperativeHandle(n,(function(){return{element:r.current,input:o.current}}));var q=j({value:C,defaultValue:p,onChange:A}),L=q.value,D=q.onChangeRef,W=q.controlled,_=L;null==F||W||(_=R(L,F));var k=function(e){if(e=R(e,F),"number"===y||"digit"===y){var n="number"===y;e=h(e,{allowDot:n,allowMinus:n})}e!==L&&D.current(e)},z=I(_,k),G=z.value,X=z.onComposition,U=z.onChange,$=O(L,{readonly:N,node:o,onFocus:P,onBlur:E}),J=$.focus,K=$.onFocus,Q=$.onBlur,Y=s.useMemo((function(){return function(e){return"number"===e?{type:"text",inputMode:"decimal"}:"digit"===e?{type:"tel",inputMode:"numeric"}:{type:e,inputMode:void 0}}(y)}),[y]);return f.jsxs("span",{ref:r,className:d(B([l({focused:J,disabled:S},"left"!==b?a({},"text-".concat(b),!0):{})]),M),style:H,children:[f.jsx("input",l(l(l({},V),{},{className:B("control"),ref:o,value:G},Y),{},{disabled:S,readOnly:N,onBlur:Q,onFocus:K,onCompositionStart:X,onCompositionEnd:X,onChange:function(e){return U(e.target.value)}})),function(){if(g&&!N&&(""!==L&&("always"===x||"focus"===x&&J)))return f.jsx("i",{className:B("clear"),onTouchStart:function(){return k("")},children:v})}()]})}));M.displayName="FieldInput";var H=M,V=m("fnx-field-textarea"),q=y({defaultValue:"",showCount:!1,autoSize:!1,rows:1,readOnly:!1,disabled:!1}),L=s.forwardRef((function(e,n){var t=s.useRef(null),o=s.useRef(null),a=s.useRef(null),m=c(q(e),2),p=m[0],y=p.defaultValue,b=p.showCount,g=p.autoSize,h=p.rows,N=p.readOnly,C=p.disabled,A=m[1],P=A.value,E=A.onChange,F=A.onFocus,B=A.onBlur,T=A.maxLength,M=A.className,H=A.style,L=i(A,r);s.useImperativeHandle(n,(function(){return{element:t.current,input:o.current}}));var D=S((function(e){if(!1!==g){var n=!0===g?[0,Number.MAX_SAFE_INTEGER]:[g.minHeight?v(g.minHeight):0,g.maxHeight?v(g.maxHeight):Number.MAX_SAFE_INTEGER];return e&&w(e,n)?e:n}}),[g]),W=j({value:P,defaultValue:y,onChange:E}),_=W.value,k=W.onChangeRef,z=W.controlled,G=_;null==T||z||(G=R(_,T));var X=I(G,(function(e){(e=R(e,T))!==_&&k.current(e)})),U=X.value,$=X.onComposition,J=X.onChange,K=O(_,{readonly:N,node:o,onFocus:F,onBlur:B}),Q=K.focus,Y=K.onFocus,Z=K.onBlur;s.useEffect((function(){if(D){var e=o.current,n=a.current;e&&n&&(e.style.height="".concat(x(n.scrollHeight,D[0],D[1]),"px"))}}),[D,U]);var ee;return f.jsxs("span",{ref:t,className:d(V([{focused:Q,disabled:C}]),M),style:H,children:[f.jsx("textarea",l(l({},L),{},{className:V("control"),style:(ee={},D?ee.minHeight="".concat(D[0],"px"):ee.height="auto",ee),rows:h,ref:o,value:U,disabled:C,readOnly:N,onBlur:Z,onFocus:Y,onCompositionStart:$,onCompositionEnd:$,onChange:function(e){return J(e.target.value)}})),f.jsx("textarea",{"aria-hidden":"true",tabIndex:-1,ref:a,className:V("auto-size"),value:U,rows:h,readOnly:!0}),function(){if(!1!==b){var e=!0===b?function(e){var n=e.count,t=e.maxLength;return"".concat(n).concat(null!=t?" / ".concat(t):"")}:b;return f.jsx("span",{className:V("count"),children:e({count:u(U).length,maxLength:T})})}}()]})}));L.displayName="FieldTextArea";var D=L,W=F;W.Input=H,W.TextArea=D;e("F",W)}}}))}();
