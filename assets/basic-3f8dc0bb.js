import{r as o,j as t,c as R,a as z,b as P,F as se}from"./index-cd4e7e60.js";import{D as y}from"./index-2d31b93e.js";import{u as ae}from"./use-demo-translate-12013308.js";import{c as F}from"./config-component-props-c0788442.js";import{u as re}from"./use-controlled-state-7ef61a65.js";import{t as ie}from"./react-45993995.js";import{n as le}from"./misc-276e45ca.js";import{C as ce}from"./index-f9a3a30b.js";import{C as de}from"./index-9b67d0d8.js";import{u as j}from"./use-merged-prop-78f8d6c6.js";import{a as pe,I as B}from"./index-429bf8ad.js";import{C as ue}from"./CSSTransition-624ec41f.js";import"./use-merged-prop-ref-cafd8c02.js";import"./use-update-effect-c068296a.js";import"./detect-9e279ab2.js";import"./constants-905d732f.js";import"./use-theme-8af7e58d.js";import"./format-73c0cb3b.js";const me=o.createContext({activeKey:[],onChange:le,ghost:!1}),q=me,fe="fnx-collapse",he=z(fe),ge=F({defaultActiveKey:[],accordion:!1,ghost:!1}),V=e=>{const a=[];for(const i of Array.isArray(e)?e:[e])a.push(i);return a},G=o.forwardRef((e,a)=>{const[{defaultActiveKey:i,accordion:m,ghost:f},{activeKey:h,onChange:$,className:N,children:k,...K}]=ge(e),b=o.useMemo(()=>h==null?void 0:V(h),[h]),d=o.useMemo(()=>V(i!=null?i:[]),[i]),{value:g,onChangeRef:x}=re({value:b,defaultValue:d,onChange:$}),S=o.useCallback(r=>x.current(r),[x]);return t(q.Provider,{value:{activeKey:g,onChange:S,accordion:m,ghost:f},children:t("div",{className:R(he(),N),...K,ref:a,children:ie(k).map((r,I)=>{if(o.isValidElement(r)){const C=r.key!=null?`${r.key}`:`${I}`;return o.cloneElement(r,{...r.props,key:C,"data-fnx-collapse-item-key":C})}})})})});G.displayName="Collapse";const Ce=G,ye="fnx-collapse-item",v=z(ye),ve=F({titleProps:{},headerProps:{},disabled:!1}),O=o.forwardRef((e,a)=>{const[{titleProps:i,headerProps:m,disabled:f},{ghost:h,transitionDuration:$,title:N,className:k,children:K,...b}]=ve(e),{activeKey:d,onChange:g,accordion:x,...S}=o.useContext(q),r=o.useContext(de.Context),I=j(S.ghost,h),C=j(r.transitionDuration,$),_=o.useRef(null),A=b["data-fnx-collapse-item-key"],l=o.useMemo(()=>A!=null?A:null,[A]),c=o.useMemo(()=>l!=null&&d.includes(l),[l,d]),D=o.useRef(null),[w,p]=o.useState(),[J,u]=o.useState(c),[L,E]=o.useState(!1),[M,H]=o.useState(c),Q=()=>{!f&&l!=null&&g(x?c?[]:[l]:c?d.filter(n=>n!==l):[...d,l])},T=o.useCallback(()=>{const n=D.current;return n&&n.offsetHeight||0},[]);o.useEffect(()=>{c?(H(!0),E(!1)):E(!0)},[c]);const X=()=>{const n={};return w!=null&&(n.height=`${w}px`),J?n.transitionDuration=`${C}ms`:n.display="none",n},Y=()=>{const{title:n,titleProps:Z,rightIcon:ee,className:te,onClick:U,...oe}=m;return t(ce,{title:N||n,titleProps:{...i,...Z},rightIcon:t(pe,{className:v("arrow"),name:"arrow-right"})||ee,clickable:!f,border:!I,className:R(v("header"),te),...oe,onClick:ne=>{Q(),U&&U(ne)}})};return P("div",{className:R(v({ghost:I,disabled:f,expended:c}),k),...b,ref:a,children:[Y(),t(ue,{timeout:C,in:M&&!L,nodeRef:_,onEnter:()=>{u(!0),p(0)},onEntering:()=>{u(!0),p(T())},onEntered:()=>{u(!0),p(void 0)},onExit:()=>{u(!0),p(T())},onExiting:()=>{u(!0),p(0)},onExited:()=>{u(!1),p(void 0),E(!1),H(!1)},children:t("div",{className:v("content-wrapper"),ref:_,style:X(),children:M&&t("div",{className:v("content"),ref:D,children:K})})})]})});O.displayName="CollapseItem";const be=O,W=Ce;W.Item=be;const s=W,xe={"zh-CN":{paragraph:"一去二三里烟村四五家亭台六七座八九十支花",title:"标题",basicUsage:"基础用法",accordion:"手风琴",disable:"禁用状态",ghost:"幽灵模式",custom:"自定义内容",content:"内容"},"en-US":{paragraph:"The quick brown fox jumps over the lazy dog",title:"Title",basicUsage:"Basic Usage",accordion:"Accordion",disable:"Disabled",ghost:"Ghost Mode",custom:"Custom Content",content:"content"}};function Be(){const[e]=ae(xe,"en-US"),a=new Array(3).fill(0).map((i,m)=>t(s.Item,{title:`${e.title} 1`,children:e.paragraph},m));return P(se,{children:[t(y,{title:e.basicUsage,children:t(s,{defaultActiveKey:"0",children:a})}),t(y,{title:e.accordion,children:t(s,{accordion:!0,defaultActiveKey:"0",children:a})}),t(y,{title:e.ghost,children:t(s,{ghost:!0,defaultActiveKey:"0",children:a})}),t(y,{title:e.disable,children:P(s,{children:[t(s.Item,{title:`${e.title} 1`,children:e.paragraph}),t(s.Item,{disabled:!0,title:`${e.title} 2`,children:e.paragraph}),t(s.Item,{disabled:!0,title:`${e.title} 3`,children:e.paragraph})]})}),t(y,{title:e.custom,children:P(s,{children:[t(s.Item,{title:`${e.title} 1`,headerProps:{leftIcon:t(B,{name:"success"})},children:e.paragraph}),t(s.Item,{title:`${e.title} 2`,headerProps:{leftIcon:t(B,{name:"success"}),content:e.content},children:e.paragraph})]})})]})}export{Be as default};
