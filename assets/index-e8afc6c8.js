import{r as e,j as u,c as N,a as O}from"./index-8b435b75.js";import{C as b,D as h}from"./index-fdd3a7d6.js";import{c as P}from"./config-component-props-c0788442.js";import{u as j}from"./use-merged-prop-78f8d6c6.js";import{b as I,p as T}from"./event-471798e4.js";import{R as _}from"./react-a0edb2dd.js";const k="fnx-overlay",z=O(k),F=P({visible:!1,lockScroll:!0}),m=e.forwardRef((p,v)=>{const s=e.useRef(null),d=e.useContext(b.Context),[{visible:a,lockScroll:i},{zIndex:l,transitionDuration:x,className:y,style:C,children:E,...D}]=F(p),n=j(d.transitionDuration,x);e.useImperativeHandle(v,()=>s.current);const[S,r]=e.useState(!1),[o,c]=e.useState(!1);e.useEffect(()=>{if(i&&o&&s.current!=null){const t=s.current,f=R=>{T(R,!0)};return I(t,"touchmove",f,{passive:!1}),()=>{t.removeEventListener("touchmove",f)}}},[o,i]),e.useEffect(()=>{a?(c(!0),r(!1)):r(!0)},[a]);const g=()=>{const t={};return l!=null&&(t.zIndex=l),o||(t.display="none"),n!==h.transitionDuration&&(t.transitionDuration="".concat(n,"ms")),{...t,...C}};return u.jsx(_,{classNames:"fnx-fade",in:o&&!S,timeout:n||0,nodeRef:s,onExited:()=>{r(!1),c(!1)},children:u.jsx("div",{className:N(z(),y),style:g(),...D,ref:s,children:E})})});m.displayName="Overlay";const G=m;export{G as O};
